
n配置文件： motion.conf
# Rename this distribution example file to motion.conf
# #
# # This config file was generated by motion "3.2.11.1"
#
# # Start in Setup-Mode, daemon disabled. (default: off)
setup_mode off
#
# # Videodevice to be used for capturing  (default /dev/video0)
# # for FreeBSD default is /dev/bktr0
videodevice /dev/video0
#
# # v4l2_palette allows to choose preferable palette to be use by motion
# # to capture from those supported by your videodevice. (default: 8)
# # E.g. if your videodevice supports both V4L2_PIX_FMT_SBGGR8 and
# # V4L2_PIX_FMT_MJPEG then motion will by default use V4L2_PIX_FMT_MJPEG.
# # Setting v4l2_palette to 1 forces motion to use V4L2_PIX_FMT_SBGGR8
# # instead.
# #
# # Values :
# # V4L2_PIX_FMT_SN9C10X : 0  'S910'
# # V4L2_PIX_FMT_SBGGR8  : 1  'BA81'
# # V4L2_PIX_FMT_MJPEG   : 2  'MJPEG'
# # V4L2_PIX_FMT_JPEG    : 3  'JPEG'
# # V4L2_PIX_FMT_RGB24   : 4  'RGB3'
# # V4L2_PIX_FMT_UYVY    : 5  'UYVY'
# # V4L2_PIX_FMT_YUYV    : 6  'YUYV'
# # V4L2_PIX_FMT_YUV422P : 7  '422P'
# # V4L2_PIX_FMT_YUV420  : 8  'YU12'
v4l2_palette 6
#
# # The video input to be used (default: 8)
# # Should normally be set to 0 or 1 for video/TV cards, and 8 for USB cameras
input 8
#
# # Image width (pixels). Valid range: Camera dependent, default: 352
width 352
#
# # Image height (pixels). Valid range: Camera dependent, default: 288
height 288
#
# # Maximum number of frames to be captured per second.
# # Valid range: 2-100. Default: 100 (almost no limit).
framerate 1
#
# # Minimum time in seconds between capturing picture frames from the camera.
# # Default: 0 = disabled - the capture rate is given by the camera framerate.
# # This option is used when you want to capture images at a rate lower than 2 per second.
minimum_frame_time 1
#
# # Threshold for number of changed pixels in an image that
# # triggers motion detection (default: 1500)
threshold 18000
#
# # Despeckle motion image using (e)rode or (d)ilate or (l)abel (Default: not defined)
# # Recommended value is EedDl. Any combination (and number of) of E, e, d, and D is valid.
# # (l)abeling must only be used once and the 'l' must be the last letter.
# # Comment out to disable
despeckle EedDl
#
# # Picture frames must contain motion at least the specified number of frames
# # in a row before they are detected as true motion. At the default of 1, all
# # motion is detected. Valid range: 1 to thousands, recommended 1-5
minimum_motion_frames 2
#
# # Number of frames to capture after motion is no longer detected (default: 0)
post_capture 5
#
# # Maximum length in seconds of an mpeg movie
# # When value is exceeded a new mpeg file is created. (Default: 0 = infinite) 
max_mpeg_time 40
#
# # Gap is the seconds of no motion detection that triggers the end of an event
# # An event is defined as a series of motion images taken within a short timeframe.
# # Recommended value is 60 seconds (Default). The value 0 is allowed and disables
# # events causing all Motion to be written to one single mpeg file and no pre_capture.
gap 30
#
# # Output 'normal' pictures when motion is detected (default: on)
# # Valid values: on, off, first, best, center
# # When set to 'first', only the first picture of an event is saved.
# # Picture with most motion of an event is saved when set to 'best'.
# # Picture with motion nearest center of picture is saved when set to 'center'.
# # Can be used as preview shot for the corresponding movie.
output_normal off
#
# # The quality (in percent) to be used by the jpeg compression (default: 75)
quality 75
#
#
# # Use ffmpeg to encode mpeg movies in realtime (default: off)
ffmpeg_cap_new on
#
# # Bitrate to be used by the ffmpeg encoder (default: 400000)
# # This option is ignored if ffmpeg_variable_bitrate is not 0 (disabled)
ffmpeg_bps  400000
#
# # Enables and defines variable bitrate for the ffmpeg encoder.
# # ffmpeg_bps is ignored if variable bitrate is enabled.
# # Valid values: 0 (default) = fixed bitrate defined by ffmpeg_bps,
# # or the range 2 - 31 where 2 means best quality and 31 is worst.
ffmpeg_variable_bitrate 0
#
# # Codec to used by ffmpeg for the video compression.
# # Timelapse mpegs are always made in mpeg1 format independent from this option.
# # Supported formats are: mpeg1 (ffmpeg-0.4.8 only), mpeg4 (default), and msmpeg4.
# # mpeg1 - gives you files with extension .mpg
# # mpeg4 or msmpeg4 - gives you files with extension .avi
# # msmpeg4 is recommended for use with Windows Media Player because
# # it requires no installation of codec on the Windows client.
# # swf - gives you a flash film with extension .swf
# # flv - gives you a flash video with extension .flv
# # ffv1 - FF video codec 1 for Lossless Encoding ( experimental )
# # mov - QuickTime ( testing )
ffmpeg_video_codec mpeg4
#
# # Locate and draw a box around the moving object.
# # Valid values: on, off and preview (default: off)
# # Set to 'preview' will only draw a box in preview_shot pictures.
locate off
#
# # Draws the timestamp using same options as C function strftime(3)
# # Default: %Y-%m-%d\n%T = date in ISO format and time in 24 hour clock
# # Text is placed in lower right corner
# text_right %Y-%m-%d\n%T-%q
#
# # Draw characters at twice normal size on images. (default: off)
text_double off
#
# # Target base directory for pictures and films
# # Recommended to use absolute path. (Default: current working directory)
target_dir /home/stewart/motion
#
# # The mini-http server listens to this port for requests (default: 0 = disabled)
webcam_port 0
#
# # Restrict webcam connections to localhost only (default: on)
webcam_localhost off
#
# # Command to be executed when an event starts. (default: none)
# # An event starts at first motion detected after a period of no motion defined by gap
on_event_start echo "Subject:Attention" | msmtp 136*******@139.com
#
# # Command to be executed when a picture (.ppm|.jpg) is saved (default: none)
# # To give the filename as an argument to a command append it with %f
on_movie_end echo "A"| mutt -s "a" 136*******@139.com -a %f
